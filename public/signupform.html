<!-- <html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body {
      background-image: url('https://img.wallpapersafari.com/desktop/1680/1050/63/73/MtDBCh.jpg');
    }

    #main {
      display: inline-block;
      justify-content: center;
      
    }
  </style>
</head>

<body>
  <form>
    <center id="main"><label for="fname" style="font-size:150%;color:#fcc200;">First Name</label><br><br>
      <input type="text" id="fname" name="fname" style="font-size:18pt;height:25px;width:190px;"><br><br><br>
      <label for="lname" style="font-size:150%;color:#fcc200;">Last Name</label><br><br>
      <input type="text" id="lname" name="lname" style="font-size:18pt;height:25px;width:190px;"><br><br><br>
      <label for="E-Mail" style="font-size:150%;color:#fcc200;">E-Mail</label><br><br>
      <input type="email" id="E-Mail" name="E-Mail" style="font-size:18pt;height:25px;width:190px;"><br><br><br>
      <label for="mobileNo" style="font-size:150%;color:#fcc200;">Mobile Number</label><br><br>
      <input type="number" id="mobileno" name="mobileno" style="font-size:18pt;height:25px;width:190px;"><br><br><br>
      <label for="dept" style="font-size:150%;color:#fcc200;">Department:</label><br><br>
      <input type="text" id="dept" name="dept" style="font-size:18pt;height:25px;width:190px;"><br><br><br>
      <center>
  </form>
</body>

</html> -->
<!DOCTYPE html>
<html>
<title> sign-Up
</title>

<head>
  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <script src="validation.js"></script>
  <style>
    .form {
      width: 30%;
      min-width: 50%;
      max-width: 70%;
      margin: auto;
      border-radius: 20px;
      background-color: #dbd1d1;
      padding: 40px;
      flex: 2 2 200px;

      box-shadow: 0 0 10px #e6e1e0e6;

    }

    label {
      color: black;
      display: block;
      margin: auto;

    }

    input,
    button {
      display: block;
      margin: 16px 0;
      width: 100%;
      height: 40px;
      background-color: #f0f3f3;
      border-radius: 20px;
      border: none;
      padding: 10px;






    }

    button:hover {
      background-color: rgb(194, 135, 87);
      border-color: rgb(0, 0, 255);

      cursor: pointer;

    }

    button {
      width: 50%;
      min-width: 30%;
      max-width: 50%;
      margin: auto;
    }

    a {
      text-decoration: none;
      font-size: medium;
      color: black;
      margin: 0 50px;


    }

    button:hover {
      color: rgb(248, 246, 245);
    }

    body {
      overflow: scroll;
      margin-top: 10%;
      background-image: linear-gradient(90deg,
          rgb(102, 90, 67) 20%,
          rgb(119, 95, 95));
    }

    input:hover {
      color: rgb(27, 23, 23);
    }

    .navbar a {
      float: left;

      color: black;
      text-align: center;
      padding: 14px 20px;
      text-decoration: none;
    }

    span {
      margin-bottom: 10%;
      color: red;
    }

    .main {

      margin: auto;
    }
  </style>

</head>

<div class="main">

  <h2 style="text-align: center;">Login To Dr.Brau university Campus connect</h2>
  <div class="form" style="width: 30%">

    <form id="signup" action="/signUp" method="post">
      <div <div>
        <label for="email">Enter your email</label>
        <input type="email" id="email" name="email" required>
        <span id="emailAvailability"></span>
        <!-- <button class="continue-button">Continue</button> -->
      </div>

      <div>
        <label for="uname">Create a username</label>
        <input type="text" id="uname" name="uname" required>
        <span id="userAvailability"></span>
        <!-- <button class="continue-button">Continue</button> -->
      </div>
      <div>
        <label for="passwd">Create a password</label>
        <input type="password" id="passwd" name="passwd" required>
        <!-- <button class="continue-button">Continue</button> -->
      </div>

      <button type="submit">create account</button>

    </form>
  </div>
</div>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>


<script>




  const emailInput = document.getElementById("email");
  const userNameInput = document.getElementById("uname");
  const userNameAvailability = document.getElementById("userAvailability");
  const emailAvailability = document.getElementById("emailAvailability");
  const signUpForm = document.getElementById("signup");



  userNameInput.addEventListener("blur", () => {
    const userName = userNameInput.value;
    console.log(userName);
    if (userName) {
      axios.post("/check-Availability", { userName })
        .then(response => {
          console.log(response.data.userName);
          if (response.data.userName) {
            userNameAvailability.textContent = "ðŸš« username is already in use .please login";
          }
          else {
            userNameAvailability.textContent = "ðŸ”¥ username is available";
          }
        })
        .catch(error => {
          console.log("Error checking ", error);
        })
    }
  })

  emailInput.addEventListener("blur", () => {
    const email = emailInput.value;
    console.log(email);
    if (email) {
      axios.post("/check-Availability", { email })
        .then(response => {
          console.log(response.data.email);
          if (response.data.email) {
            emailAvailability.textContent = "ðŸš« email is already in use.Please login";
          }
          else {
            emailAvailability.textContent = "ðŸ”¥ email is available.";
          }

        })
        .catch(error => {
          console.log("error checking".error);
        })
    }
  });




    // signUpForm.addEventListener("submit", async (event) => {
    //   event.preventDefault();

    //   await axios.post("/signUp", new URLSearchParams(new FormData(event.target))
    //   )
    // });



</script>





</body>

</html>