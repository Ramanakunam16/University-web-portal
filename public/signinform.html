<!DOCTYPE html>
<html>
<title> login
</title>

<head>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="stylesheet" href="style4.css">


</head>


<header>

    <a href="index.html"> <img src="ambedkar-university-sklm.jpg"></a>

</header>
<div class="form">
    <form id="signin" action="/signIn" , method="post">

        <div class="label1">
            <label for="unameOrEmail" name="unameOrEmail">Username or Email Id :<input type="text" id="unameOrEmail"
                    name="unameOrEmail" , placeholder="Enter your username or email id" required></label>
            <span id="error" color="red"></span>

        </div>
        <div class="label2">
            <label for="passwd" name="passwd">password :<input type="password" id="passwd" name="passwd"
                    placeholder="password" required>
            </label>


        </div>

        <button>Log in</button>

        <a href="/forgotPassword"><span class="fp">forgot password?</span></a>
        <a href="signupform.html">CREATE ACCOUNT</a>
</div>



</form>
</div>


<!-- <script>
        document.getElementById("signin").addEventListener("submit", function (event) {
            event.preventDefault();

            // Alert a message
            alert("login failed.try again ..");

            // Redirect to index.html
            window.location.href = "signinform.html";
        }); -->
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
    const userOrEmailInput = document.getElementById("unameOrEmail");
    const error = document.getElementById("error")

    userOrEmailInput.addEventListener("blur", () => {
        const usernameOrEmail = userOrEmailInput.value;
        console.log(usernameOrEmail);
        if (usernameOrEmail) {
            axios.post("/check-Validity", { usernameOrEmail })
                .then(response => {
                    console.log(response.data.isValidity);
                    if (response.data.isValidity) {
                        error.textContent = " ðŸš« INVALID USER NAME OR EMAIL ID"

                    }
                    else {
                        error.textContent = "âœ…"
                    }
                })
                .catch(error => {
                    console.log("error in checking", error);
                })
        }

    })

</script>
</body>

</html>